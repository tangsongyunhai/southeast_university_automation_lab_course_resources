% 定义频率和对应的幅频特性、相频特性
f = [0.16, 0.32, 0.64, 1.11, 1.59, 2.39, 3.18, 4.78, 6.37, 11.1, 15.9];
omega = [1.0, 2.0, 4.0, 7.0, 10.0, 15.0, 20.0, 30.0, 40.0, 70.0, 100.0];
mag = [-0.0575, -0.1797, -0.7785, -2.269, -4.086, -7.262, -10.267, -16.086, -20.696, -32.041, -40.445];
phase = [-11.007, -18.961, -37.071, -61.418, -81.399, -106.69, -127.17, -155.39, -174.95, -204.4, -223.78];

% 将幅频特性转换为线性尺度
mag_linear = 10.^(mag/20);

% 绘制实际幅度频率特性曲线和相位频率特性曲线
figure;
subplot(2,1,1);
semilogx(omega, mag, 'b-o'); % 幅度曲线
grid on;
title('幅度频率特性曲线');
xlabel('频率 (rad/s)');
ylabel('幅度 (dB)');
subplot(2,1,2);
semilogx(omega, phase, 'r-o'); % 相位曲线
grid on;
title('相位频率特性曲线');
xlabel('频率 (rad/s)');
ylabel('相位 (度)');

% 将实际幅度频率特性曲线转换成折线式Bode图
figure;
bode(omega, mag_linear, phase);

% 利用拐点在Bode图上算出系统的传递函数
% 这一步需要手动识别拐点，并根据Bode图规则确定传递函数的形式
% 例如，如果Bode图显示在某个频率处斜率变化了20dB/十年，则可以认为传递函数中有一个s的项
% 这里我们假设一个简单的传递函数形式，例如：H(s) = K / (s^2 + 2*ζ*ωn*s + ωn^2)
% 其中，K是增益，ζ是阻尼比，ωn是自然频率
% 需要根据实际的Bode图来确定这些参数

% 绘制Nyquist图
figure;
nyquist(omega, mag_linear, phase);

% 注意：实际的传递函数确定需要根据Bode图的拐点和斜率变化来手动分析
% 这里的代码只是一个示例，实际应用中需要根据具体的Bode图来确定传递函数